let symbols=["🍬","🎃","🔔","🪦","🦇","🧛"],paylines=[[0,0,0,0,0],[1,1,1,1,1],[2,2,2,2,2],[0,1,2,1,0],[2,1,0,1,2],[0,0,1,2,6],[2,2,1,0,0],[0,1,1,1,0],[2,1,1,1,2],[1,0,0,0,1],[1,2,2,2,1],[0,1,2,2,1],[2,1,0,0,1],[0,0,2,2,0],[2,2,0,0,2],[1,0,1,2,1],[1,2,1,0,1],[0,2,2,1,0],[2,0,0,1,2],[1,1,0,2,1],[2,0,1,0,2],[0,2,1,2,0],[1,1,2,0,1],[1,2,0,1,1],[2,1,2,1,0]],isSpinning=(document.querySelector(".no-balance-model-parent .overlay").addEventListener("click",function(){gsap.to(".no-balance-model-parent",{opacity:0,ease:"power4.inOut",onComplete:()=>{document.querySelector(".no-balance-model-parent").style.display="none"}})}),document.querySelector(".welcome-container").addEventListener("click",function(){document.querySelector("#spookyAudio").play(),gsap.to(".welcome-container",{height:0,opacity:0,ease:"power4.inOut",onComplete:()=>{document.querySelector(".game-container").style.display="block",gsap.to(".game-container",{opacity:1,ease:"power4.inOut"})}})}),!1);function spinReels(){if(console.log("spinReeles"),gsap.to(".win-container",{height:0,opacity:1}),!isSpinning){isSpinning=!0,document.querySelectorAll(".reel div").forEach(e=>{e.style.backgroundColor="#444",e.style.animationPlayState="paused"});let t=parseInt(document.getElementById("bet").value),a=parseInt(document.getElementById("paylines").value);var e=t*a;if(e>balance)document.querySelector(".no-balance-model-parent").style.display="block",gsap.to(".no-balance-model-parent",{opacity:1,ease:"power4.inOut",onComplete:()=>isSpinning=!1});else{balance-=e,localStorage.setItem("user",JSON.stringify({...user,balance:balance})),updateBalance();let n=[...Array(5)].map(()=>[...Array(3)].map(()=>symbols[Math.floor(Math.random()*symbols.length)]));displayReels(n),gsap.from(".reel div",{duration:2,y:-200,onComplete:()=>{var e=checkWins(n,a,t);balance+=e,localStorage.setItem("user",JSON.stringify({...user,balance:balance})),updateBalance(),isSpinning=!1}})}}}function displayReels(n){n.forEach((e,n)=>{let t=document.getElementById("reel"+(n+1));t.innerHTML="",e.forEach(e=>{var n=document.createElement("div");n.textContent=e,t.appendChild(n)})});for(let e=0;e<2;e++)n.forEach((e,n)=>{let t=document.getElementById("reel"+(n+1));e.forEach(e=>{var n=document.createElement("div");n.textContent=e,t.appendChild(n)})})}function checkWins(n,t,o){let l=0;for(let e=0;e<t;e++){let t=paylines[e],a=n[0][t[0]];n.every((e,n)=>e[t[n]]===a)&&(t.forEach((e,n)=>{document.querySelectorAll(`#reel${n+1} div`)[e].style.animationPlayState="running",gsap.to(".win-container",{height:"auto",opacity:1});n=document.getElementById("thunderAudio");n.currentTime=0,n.play()}),createAudit(`You won ${l}.`),l+=5*o)}return l}document.getElementById("spin").addEventListener("click",spinReels);